{"ast":null,"code":"var _jsxFileName = \"/home/seenam/Desktop/MERN-Stack-CRUD/mern-stack-client/src/components2/FormComponent.js\";\nimport React, { useEffect, useState } from 'react';\nimport Form from 'antd/es/form';\nimport Input from 'antd/es/input';\nimport Button from 'antd/es/button';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions/postMessage\";\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nconst FormComponent = ({ ...props\n}) => {\n  const [form] = Form.useForm();\n  useEffect(() => {\n    if (props.currentId != 0) {\n      setValues({ ...props.postMessageList.find(x => x._id == props.currentId)\n      });\n    }\n  }, [props.currentId]);\n  const initialFieldValues = {\n    title: '',\n    message: ''\n  };\n  const [values, setValues] = useState(initialFieldValues);\n\n  const onFinish = values => {\n    console.log('Success:', values);\n\n    const onSuccess = () => {// setValues(...values)\n      // onReset()\n    };\n\n    if (values.length > 0) {\n      if (props.currentId == 0) props.createPostMessage(values, onSuccess);else props.updatePostMessage(props.currentId, values, onSuccess);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  const onFill = () => {\n    form.setFieldsValue({\n      title: 'Hardik Motwani',\n      message: 'Ahmedabad No. 1 Lake Park'\n    });\n  };\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  return React.createElement(Form, Object.assign({}, layout, {\n    form: form,\n    name: \"control-hooks\",\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(Form.Item, {\n    label: \"Title\",\n    name: \"title\",\n    rules: [{\n      required: true,\n      message: 'Please input your username!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Input, {\n    label: \"Title\",\n    name: \"title\",\n    value: values.title,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Message\",\n    name: \"message\",\n    rules: [{\n      required: true\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Input.TextArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Reset\"), React.createElement(Button, {\n    type: \"link\",\n    htmlType: \"button\",\n    onClick: onFill,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Fill form\")));\n};\n\nconst mapStateToProps = state => ({\n  postMessageList: state.postMessage.list\n});\n\nconst mapActionToProps = {\n  createPostMessage: actions.create,\n  updatePostMessage: actions.update\n};\nexport default connect(mapStateToProps, mapActionToProps)(FormComponent);","map":{"version":3,"sources":["/home/seenam/Desktop/MERN-Stack-CRUD/mern-stack-client/src/components2/FormComponent.js"],"names":["React","useEffect","useState","Form","Input","Button","connect","actions","layout","labelCol","span","wrapperCol","tailLayout","offset","FormComponent","props","form","useForm","currentId","setValues","postMessageList","find","x","_id","initialFieldValues","title","message","values","onFinish","console","log","onSuccess","length","createPostMessage","updatePostMessage","onFinishFailed","errorInfo","onReset","resetFields","onFill","setFieldsValue","handleInputChange","e","name","value","target","required","mapStateToProps","state","postMessage","list","mapActionToProps","create","update"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,IAAI,EAAE;AADA,GADC;AAIXC,EAAAA,UAAU,EAAE;AACRD,IAAAA,IAAI,EAAE;AADE;AAJD,CAAf;AASA,MAAME,UAAU,GAAG;AACfD,EAAAA,UAAU,EAAE;AACRE,IAAAA,MAAM,EAAE,CADA;AAERH,IAAAA,IAAI,EAAE;AAFE;AADG,CAAnB;;AAOA,MAAMI,aAAa,GAAG,CAAC,EAAC,GAAGC;AAAJ,CAAD,KAAgB;AAClC,QAAM,CAACC,IAAD,IAASb,IAAI,CAACc,OAAL,EAAf;AAEAhB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,KAAK,CAACG,SAAN,IAAmB,CAAvB,EAAyB;AACrBC,MAAAA,SAAS,CAAC,EACN,GAAGJ,KAAK,CAACK,eAAN,CAAsBC,IAAtB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,GAAF,IAASR,KAAK,CAACG,SAA/C;AADG,OAAD,CAAT;AAIH;AACJ,GAPQ,EAON,CAACH,KAAK,CAACG,SAAP,CAPM,CAAT;AAQA,QAAMM,kBAAkB,GAAG;AACvBC,IAAAA,KAAK,EAAE,EADgB;AAEvBC,IAAAA,OAAO,EAAE;AAFc,GAA3B;AAIA,QAAM,CAACC,MAAD,EAASR,SAAT,IAAsBjB,QAAQ,CAACsB,kBAAD,CAApC;;AAEA,QAAMI,QAAQ,GAAGD,MAAM,IAAI;AACvBE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,MAAxB;;AACA,UAAMI,SAAS,GAAG,MAAM,CACpB;AACA;AACH,KAHD;;AAIA,QAAGJ,MAAM,CAACK,MAAP,GAAc,CAAjB,EAAmB;AACf,UAAIjB,KAAK,CAACG,SAAN,IAAmB,CAAvB,EACAH,KAAK,CAACkB,iBAAN,CAAwBN,MAAxB,EAAgCI,SAAhC,EADA,KAGAhB,KAAK,CAACmB,iBAAN,CAAwBnB,KAAK,CAACG,SAA9B,EAAyCS,MAAzC,EAAiDI,SAAjD;AACH;AACJ,GAZD;;AAcA,QAAMI,cAAc,GAAGC,SAAS,IAAI;AAChCP,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBM,SAAvB;AACH,GAFD;;AAIA,QAAMC,OAAO,GAAG,MAAM;AAClBrB,IAAAA,IAAI,CAACsB,WAAL;AACH,GAFD;;AAIA,QAAMC,MAAM,GAAG,MAAM;AACjBvB,IAAAA,IAAI,CAACwB,cAAL,CAAoB;AAChBf,MAAAA,KAAK,EAAE,gBADS;AAGhBC,MAAAA,OAAO,EAAE;AAHO,KAApB;AAKH,GAND;;AAQA,QAAMe,iBAAiB,GAAGC,CAAC,IAAI;AAC3B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AACA1B,IAAAA,SAAS,CAAC,EACN,GAAGQ,MADG;AAEN,OAACgB,IAAD,GAAQC;AAFF,KAAD,CAAT;AAIH,GAND;;AAOA,SACI,oBAAC,IAAD,oBACQpC,MADR;AAEI,IAAA,IAAI,EAAEQ,IAFV;AAGI,IAAA,IAAI,EAAC,eAHT;AAII,IAAA,QAAQ,EAAEY,QAJd;AAKI,IAAA,cAAc,EAAEO,cALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,OADV;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACIW,MAAAA,QAAQ,EAAE,IADd;AAEIpB,MAAAA,OAAO,EAAE;AAFb,KADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUI,oBAAC,KAAD;AAAsB,IAAA,KAAK,EAAC,OAA5B;AAAmC,IAAA,IAAI,EAAC,OAAxC;AACJ,IAAA,KAAK,EAAEC,MAAM,CAACF,KADV;AAEA,IAAA,QAAQ,EAAEgB,iBAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CAPJ,EAuBI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,SADV;AAEI,IAAA,IAAI,EAAC,SAFT;AAGI,IAAA,KAAK,EAAE,CACH;AACIK,MAAAA,QAAQ,EAAE;AADd,KADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CAvBJ,EAoCI,oBAAC,IAAD,CAAM,IAAN,oBAAelC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAII,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAA0B,IAAA,OAAO,EAAEyB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,EAOI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,QAAQ,EAAC,QAA7B;AAAsC,IAAA,OAAO,EAAEE,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPJ,CApCJ,CADJ;AAkDH,CAxGD;;AA0GA,MAAMQ,eAAe,GAAGC,KAAK,KAAK;AAC9B5B,EAAAA,eAAe,EAAE4B,KAAK,CAACC,WAAN,CAAkBC;AADL,CAAL,CAA7B;;AAIA,MAAMC,gBAAgB,GAAG;AACrBlB,EAAAA,iBAAiB,EAAE1B,OAAO,CAAC6C,MADN;AAErBlB,EAAAA,iBAAiB,EAAE3B,OAAO,CAAC8C;AAFN,CAAzB;AAKA,eAAe/C,OAAO,CAACyC,eAAD,EAAkBI,gBAAlB,CAAP,CAA2CrC,aAA3C,CAAf","sourcesContent":["import React,{useEffect,useState} from 'react';\r\nimport Form from 'antd/es/form';\r\nimport Input from 'antd/es/input';\r\nimport Button from 'antd/es/button';\r\n \r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions/postMessage\";\r\n \r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 8,\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst FormComponent = ({...props}) => {\r\n    const [form] = Form.useForm();\r\n \r\n    useEffect(() => {\r\n        if (props.currentId != 0){\r\n            setValues({\r\n                ...props.postMessageList.find(x => x._id == props.currentId)\r\n            })\r\n        \r\n        }\r\n    }, [props.currentId])\r\n    const initialFieldValues = {\r\n        title: '',\r\n        message: ''\r\n    }\r\n    const [values, setValues] = useState(initialFieldValues)\r\n\r\n    const onFinish = values => {\r\n        console.log('Success:', values);\r\n        const onSuccess = () => {\r\n            // setValues(...values)\r\n            // onReset()\r\n        }\r\n        if(values.length>0){\r\n            if (props.currentId == 0)\r\n            props.createPostMessage(values, onSuccess)\r\n        else\r\n            props.updatePostMessage(props.currentId, values, onSuccess)\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const onReset = () => {\r\n        form.resetFields();\r\n    };\r\n\r\n    const onFill = () => {\r\n        form.setFieldsValue({\r\n            title: 'Hardik Motwani',\r\n          \r\n            message: 'Ahmedabad No. 1 Lake Park',\r\n        });\r\n    };\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n        setValues({\r\n            ...values,\r\n            [name]: value\r\n        })\r\n    }\r\n    return (\r\n        <Form\r\n            {...layout}\r\n            form={form}\r\n            name=\"control-hooks\"\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n        >\r\n            <Form.Item\r\n                label=\"Title\"\r\n                name=\"title\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your username!',\r\n                    }\r\n                ]}\r\n            >\r\n                <Input                label=\"Title\"name=\"title\"\r\n            value={values.title}\r\n                onChange={handleInputChange}  />\r\n            </Form.Item>\r\n \r\n\r\n            <Form.Item\r\n                label=\"Message\"\r\n                name=\"message\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                    }\r\n                ]}\r\n            >\r\n                <Input.TextArea />\r\n            </Form.Item>\r\n \r\n\r\n            <Form.Item {...tailLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                </Button>\r\n                <Button htmlType=\"button\" onClick={onReset}>\r\n                    Reset\r\n                </Button>\r\n                <Button type=\"link\" htmlType=\"button\" onClick={onFill}>\r\n                    Fill form\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    postMessageList: state.postMessage.list\r\n})\r\n\r\nconst mapActionToProps = {\r\n    createPostMessage: actions.create,\r\n    updatePostMessage: actions.update\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(FormComponent);\r\n"]},"metadata":{},"sourceType":"module"}