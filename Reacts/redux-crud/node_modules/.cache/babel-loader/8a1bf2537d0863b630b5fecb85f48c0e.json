{"ast":null,"code":"var _jsxFileName = \"/home/seenam/Desktop/MERN-Stack-CRUD/mern-stack-client/src/components2/FormComponent.js\";\nimport React, { useEffect, useState } from 'react';\nimport Form from 'antd/es/form';\nimport Input from 'antd/es/input';\nimport Button from 'antd/es/button';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions/postMessage\";\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nconst FormComponent = ({ ...props\n}) => {\n  const [form] = Form.useForm();\n  const [values, setValues] = useState('');\n  useEffect(() => {\n    if (props.currentId != 0) {\n      setValues({ ...props.postMessageList.find(x => x._id == props.currentId)\n      });\n    }\n  }, [props.currentId]);\n  console.log(props.record);\n\n  const onFinish = values => {\n    console.log('Success:', values);\n\n    const onSuccess = () => {\n      onReset();\n    };\n\n    if (props.currentId == undefined) props.createPostMessage(values, onSuccess);else props.updatePostMessage(props.currentId, values, onSuccess);\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const onReset = () => {\n    form.resetFields();\n    setValues('');\n  };\n\n  const onFill = () => {\n    form.setFieldsValue({\n      title: 'Seenam Bee',\n      message: 'bhopal'\n    });\n  };\n\n  const initialValues = type === \"update\" ? props.record : \"\";\n  return React.createElement(Form, Object.assign({}, layout, {\n    form: form,\n    name: \"control-hooks\",\n    initialValues: initialValues,\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Form.Item, {\n    label: \"Title\",\n    name: \"title\",\n    rules: [{\n      required: true,\n      message: 'Please input your username!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Message\",\n    name: \"message\",\n    rules: [{\n      required: true\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Input.TextArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Reset\"), React.createElement(Button, {\n    type: \"link\",\n    htmlType: \"button\",\n    onClick: onFill,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Fill form\")));\n};\n\nconst mapStateToProps = state => ({\n  postMessageList: state.postMessage.list\n});\n\nconst mapActionToProps = {\n  createPostMessage: actions.create,\n  updatePostMessage: actions.update\n};\nexport default connect(mapStateToProps, mapActionToProps)(FormComponent);","map":{"version":3,"sources":["/home/seenam/Desktop/MERN-Stack-CRUD/mern-stack-client/src/components2/FormComponent.js"],"names":["React","useEffect","useState","Form","Input","Button","connect","actions","layout","labelCol","span","wrapperCol","tailLayout","offset","FormComponent","props","form","useForm","values","setValues","currentId","postMessageList","find","x","_id","console","log","record","onFinish","onSuccess","onReset","undefined","createPostMessage","updatePostMessage","onFinishFailed","errorInfo","resetFields","onFill","setFieldsValue","title","message","initialValues","type","required","mapStateToProps","state","postMessage","list","mapActionToProps","create","update"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react';\r\nimport Form from 'antd/es/form';\r\nimport Input from 'antd/es/input';\r\nimport Button from 'antd/es/button';\r\n \r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions/postMessage\";\r\n \r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 8,\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst FormComponent = ({...props}) => {\r\n    const [form] = Form.useForm();\r\n     const [values, setValues] = useState('');\r\n    useEffect(() => {\r\n        if (props.currentId != 0){\r\n            setValues({\r\n                ...props.postMessageList.find(x => x._id == props.currentId)\r\n            })\r\n        \r\n        }\r\n    }, [props.currentId])\r\nconsole.log(props.record)\r\n    const onFinish = values => {\r\n        console.log('Success:', values);\r\n        const onSuccess = () => {\r\n          \r\n            onReset()\r\n           \r\n        }\r\n  \r\n         if (props.currentId ==undefined)\r\n            props.createPostMessage(values, onSuccess)\r\n          else\r\n            props.updatePostMessage(props.currentId, values, onSuccess)\r\n        \r\n    \r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const onReset = () => {\r\n        form.resetFields();\r\n        setValues('')\r\n        \r\n    };\r\n\r\n    const onFill = () => {\r\n        form.setFieldsValue({\r\n            title: 'Seenam Bee',\r\n          \r\n            message: 'bhopal',\r\n        });\r\n    };\r\n\r\n    const initialValues = type === \"update\" ? props.record : \"\";\r\n\r\n    return (\r\n        <Form\r\n            {...layout}\r\n            form={form}\r\n            name=\"control-hooks\"\r\n            initialValues={initialValues}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n        >\r\n            <Form.Item\r\n                label=\"Title\"\r\n                name=\"title\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your username!',\r\n                    }\r\n                ]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n \r\n\r\n            <Form.Item\r\n                label=\"Message\"\r\n                name=\"message\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                    }\r\n                ]}\r\n            >\r\n                <Input.TextArea />\r\n            </Form.Item>\r\n \r\n\r\n            <Form.Item {...tailLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                </Button>\r\n                <Button htmlType=\"button\" onClick={onReset}>\r\n                    Reset\r\n                </Button>\r\n                <Button type=\"link\" htmlType=\"button\" onClick={onFill}>\r\n                    Fill form\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    postMessageList: state.postMessage.list\r\n})\r\n\r\nconst mapActionToProps = {\r\n    createPostMessage: actions.create,\r\n    updatePostMessage: actions.update\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(FormComponent);\r\n"]},"metadata":{},"sourceType":"module"}